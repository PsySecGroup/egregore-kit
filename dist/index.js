var y=Object.create;var u=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty;var x=(r,t)=>{for(var e in t)u(r,e,{get:t[e],enumerable:!0})},f=(r,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R(t))!H.call(r,o)&&o!==e&&u(r,o,{get:()=>t[o],enumerable:!(s=q(t,o))||s.enumerable});return r};var M=(r,t,e)=>(e=r!=null?y(g(r)):{},f(t||!r||!r.__esModule?u(e,"default",{value:r,enumerable:!0}):e,r)),P=r=>f(u({},"__esModule",{value:!0}),r);var Q={};x(Q,{HttpRequest:()=>p,Space:()=>m});module.exports=P(Q);var d=M(require("easy-match")),p=class{constructor(t,e,s=0){typeof t=="string"?(this.method=t,this.endpoint=e,this.time=s):(this.method=t.method,this.endpoint=t.endpoint,this.time=t.time||0)}isMatch(t){return(0,d.default)([this.method],[t.method]).ismatch&&(0,d.default)([this.endpoint],[t.endpoint]).ismatch}};var h=class{constructor(t){this.type=t.type,this.content=t.content,this.context=t.context}};var c=class{constructor(t,e=0,s=0,o=0){if(typeof t=="number")this.type=t,this.content=e,this.context=s,this.time=o;else{let n=t;this.type=n.type,this.content=n.content,this.context=n.context,this.time=n.time}}addContext(t=1){this.context+=t}addContent(t=1){this.content+=t}toVector(){return new h(this)}};var b=require("is-negative-zero"),D=180/Math.PI;function l(r,t){return r.find(e=>t.isMatch(e))!==void 0}function C(r,t,e=360){let s=(t.context-r.context)/(t.content-r.content),n=Math.atan(s)*D%360;return n<0?n+=e:b(n)&&(n=180),n}var m=class{constructor(t){this.points={[0]:[],[1]:[],[2]:[],[3]:[]};let e=typeof t.social[0]!="string"?t.social:t.social.map(a=>{let i=a.split(" ");return new p(i[0],i[1])}),s=typeof t.personal[0]!="string"?t.personal:t.personal.map(a=>{let i=a.split(" ");return new p(i[0],i[1])}),o=typeof t.create[0]!="string"?t.create:t.create.map(a=>{let i=a.split(" ");return new p(i[0],i[1])}),n=typeof t.destroy[0]!="string"?t.destroy:t.destroy.map(a=>{let i=a.split(" ");return new p(i[0],i[1])});this.endpoints={social:e,personal:s,create:o,destroy:n}}addRequests(t){for(let e of t)l(this.endpoints.social,e)&&this.points[0].push(new c(0,0,1,e.time)),l(this.endpoints.personal,e)&&this.points[1].push(new c(1,0,-1,e.time)),l(this.endpoints.create,e)&&this.points[2].push(new c(2,1,0,e.time)),l(this.endpoints.destroy,e)&&this.points[3].push(new c(3,-1,0,e.time))}getPoints(){return[...this.points[0],...this.points[1],...this.points[2],...this.points[3]]}_reduce(t){if(t.length===0)return!1;let e=0,s=0;for(let n of t)s+=n.context,e+=n.content;return new c(t[0].type,e,s).toVector()}getVectors(t){let e=[this._reduce(this.points[0]),this._reduce(this.points[1]),this._reduce(this.points[2]),this._reduce(this.points[3])].filter(o=>o!==!1),s={temperature:0,pressure:0,vectors:e,angles:[]};for(let o=0,n=s.vectors.length;o<n;o++){let a=s.vectors[o],i=s.vectors[o+1]===void 0?s.vectors[0]:s.vectors[o+1];s.angles.push(C(a,i,360-o*90)),s.temperature+=a.context,s.pressure+=a.content}return s.temperature/=t,s.pressure/=t,s}};0&&(module.exports={HttpRequest,Space});
//# sourceMappingURL=index.js.map