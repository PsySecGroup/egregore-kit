{"version":3,"sources":["../src/index.ts","../src/httpRequest.ts","../src/vector.ts","../src/quadrantPoint.ts","../src/space.ts"],"sourcesContent":["import { Command } from 'commander';\r\nimport { HttpRequest } from './httpRequest';\r\nimport { Space } from './space';\r\n\r\nexport {\r\n  HttpRequest,\r\n  Space\r\n}\r\n","type HttpRequestMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'\n\n/**\n * \n */\nexport class HttpRequest {\n  method: HttpRequestMethod\n  endpoint: string\n  time: number\n\n  constructor (method: HttpRequestMethod, endpoint: string, time: number = 0) {\n    this.method = method\n    this.endpoint = endpoint\n    this.time = time\n  }\n}\n","import { QuadrantPoint, QuadrantType } from \"./quadrantPoint\"\n\n/**\n * \n */\nexport class Vector {\n  type: QuadrantType\n  context: number\n  content: number\n  angle: number\n  time: number\n\n  constructor (point: QuadrantPoint) {\n    this.time = point.time\n    this.type = point.type\n    this.content = point.content\n    this.context = point.context\n\n    switch (point.type) {\n      case QuadrantType.socialCreate:\n        this.angle = ((Math.atan(Math.abs(this.context) / Math.abs(this.content)) * (180 / Math.PI)) / 360) || -1\n      break\n      case QuadrantType.personalCreate:\n        this.angle = ((360 - Math.atan(Math.abs(this.context) / Math.abs(this.content)) * (180 / Math.PI)) / 360) || -1\n      break\n      case QuadrantType.personalDestroy:\n        this.angle = ((180 + Math.atan(Math.abs(this.context) / Math.abs(this.content)) * (180 / Math.PI)) / 360) || -1\n      break\n      case QuadrantType.socialDestroy:\n        this.angle = ((180 - Math.atan(Math.abs(this.context) / Math.abs(this.content)) * (180 / Math.PI)) / 360) || -1\n      break\n    }\n  }\n}","import { Vector } from \"./vector\"\n\nexport enum QuadrantType {\n  socialCreate,\n  personalCreate,\n  personalDestroy,\n  socialDestroy\n}\n\n/**\n * \n */\nexport class QuadrantPoint {\n  type: QuadrantType\n  content: number\n  context: number\n  time: number\n\n  constructor (type: QuadrantType, time: number, content: number = 0, context: number = 0) {\n    this.type = type\n    this.content = content\n    this.context = context\n    this.time = time\n  }\n\n  /**\n   * \n   */\n  addContext (value: number = 1) {\n    this.context += value\n  }\n\n  /**\n   * \n   */\n  addContent (value: number = 1) {\n    this.content += value\n  }\n\n  /**\n   * \n   */\n  toVector () {\n    return new Vector(this)\n  }\n}","import { HttpRequest } from \"./httpRequest\";\nimport { QuadrantPoint, QuadrantType } from \"./quadrantPoint\";\n\ninterface MethodMap {\n  socialCreate: HttpRequest[]\n  personalCreate: HttpRequest[]\n  personalDestroy: HttpRequest[]\n  socialDestroy: HttpRequest[]\n}\n\ninterface QuadrantPoints {\n  [QuadrantType.socialCreate]: QuadrantPoint[],\n  [QuadrantType.personalCreate]: QuadrantPoint[],\n  [QuadrantType.personalDestroy]: QuadrantPoint[],\n  [QuadrantType.socialDestroy]: QuadrantPoint[],\n}\n\n/**\n * \n */\nfunction requestSearch (list: HttpRequest[], request: HttpRequest) {\n  return list.find(element => request.method === element.method && request.endpoint === element.endpoint) !== undefined\n}\n\n/**\n * \n */\nexport class Space {\n  type: QuadrantType\n  endpoints: MethodMap\n  points: QuadrantPoints = {\n    [QuadrantType.socialCreate]: [],\n    [QuadrantType.personalCreate]: [],\n    [QuadrantType.personalDestroy]: [],\n    [QuadrantType.socialDestroy]: []\n  }\n\n  constructor (endpoints: MethodMap) {\n    this.endpoints = endpoints\n  }\n\n  /**\n   * Convert an HTTP request into a quandrant point\n   */\n  addRequests (requests: HttpRequest[]) {\n    for (const request of requests) {\n      if (requestSearch(this.endpoints.socialCreate, request)) {\n        this.points[QuadrantType.socialCreate].push(new QuadrantPoint(QuadrantType.socialCreate, request.time))\n      } else if (requestSearch(this.endpoints.personalCreate, request)) {\n        this.points[QuadrantType.personalCreate].push(new QuadrantPoint(QuadrantType.personalCreate, request.time))\n      } else if (requestSearch(this.endpoints.personalDestroy, request)) {\n        this.points[QuadrantType.personalDestroy].push(new QuadrantPoint(QuadrantType.personalDestroy, request.time))\n      } else if (requestSearch(this.endpoints.socialDestroy, request)) {\n        this.points[QuadrantType.socialDestroy].push(new QuadrantPoint(QuadrantType.socialDestroy, request.time))\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  private _reduce (points: QuadrantPoint[]) {\n    let content = 0\n    let context = 0\n\n    for (const point of points) {\n      context += point.context\n      content += point.content\n    }\n\n    return new QuadrantPoint(points[0].type, 0, context, content).toVector()\n  }\n\n  /**\n   * \n   */\n  getShape () {\n    return {\n      socialCreate: this._reduce(this.points[QuadrantType.socialCreate]),\n      personalCreate: this._reduce(this.points[QuadrantType.personalCreate]),\n      personalDestroy: this._reduce(this.points[QuadrantType.personalDestroy]),\n      socialDestroy: this._reduce(this.points[QuadrantType.socialDestroy])\n    }\n  }\n}"],"mappings":"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","names":[]}