{"version":3,"sources":["../tests/index.ts","../tests/httpRequest.ts","../src/httpRequest.ts","../src/report.ts","../src/config.ts","../src/vector.ts","../src/quadrantPoint.ts","../src/space.ts","../tests/quadrantPoint.ts","../tests/space.ts","../tests/vector.ts","../tests/report.ts","../tests/source.ts","../src/http.ts","../src/source.ts"],"sourcesContent":["import { test } from 'uvu'\r\nimport './httpRequest'\r\nimport './quadrantPoint'\r\nimport './space'\r\nimport './vector'\r\nimport './report'\r\nimport './source'\r\n\r\ntest.run()","import { test } from 'uvu'\nimport * as assert from 'uvu/assert'\nimport { HttpRequest } from '../src'\n\ntest('HTTP Request: Construct', async () => {\n  const request = new HttpRequest('GET', '/test', 100)\n\n  assert.equal(request.method, 'GET')\n  assert.equal(request.endpoint, '/test')\n  assert.equal(request.time, 100)\n})\n\ntest('HTTP Request: String match pass', async () => {\n  const request = new HttpRequest('GET', '/test')\n  const query = new HttpRequest('GET', '/test')\n\n  assert.equal(request.isMatch(query), true);\n})\n\ntest('HTTP Request: String match fail', async () => {\n  const request = new HttpRequest('GET', '/test')\n  const query = new HttpRequest('GET', '/beep')\n\n  assert.equal(request.isMatch(query), false);\n})\n\ntest('HTTP Request: Right wildcard pass', async () => {\n  const request = new HttpRequest('GET', '/post/88594')\n  const query = new HttpRequest('GET', '/post/*')\n\n  assert.equal(request.isMatch(query), true);\n})\n\ntest('HTTP Request: Right wildcard fail', async () => {\n  const request = new HttpRequest('GET', '/video/88594')\n  const query = new HttpRequest('GET', '/post/*')\n\n  assert.equal(request.isMatch(query), false);\n})\n\ntest('HTTP Request: Inner wildcard pass', async () => {\n  const request = new HttpRequest('GET', '/post/88594/log')\n  const query = new HttpRequest('GET', '/post/*/log')\n\n  assert.equal(request.isMatch(query), true);\n})\n\n\ntest('HTTP Request: Inner wildcard fail', async () => {\n  const request = new HttpRequest('GET', '/video/88594/log')\n  const query = new HttpRequest('GET', '/post/*/log')\n\n  assert.equal(request.isMatch(query), false);\n})\n\ntest('HTTP Request: Load from JSON', async () => {\n  const request = new HttpRequest({\n    method: 'GET',\n    endpoint: '/test', \n    time: 100\n  })\n\n  assert.equal(request.method, 'GET')\n  assert.equal(request.endpoint, '/test')\n  assert.equal(request.time, 100)\n})\n","import EasyMatch from 'easy-match'\n\nexport type HttpRequestMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'\n\ninterface HttpRequestJson {\n  method: HttpRequestMethod\n  endpoint: string\n  time?: number\n}\n\n/**\n * \n */\nexport class HttpRequest {\n  method: HttpRequestMethod\n  endpoint: string\n  time: number\n\n  constructor (method: HttpRequestMethod | HttpRequestJson, endpoint?: string, time: number = 0) {\n    if (typeof method === 'string') {\n      this.method = method\n      this.endpoint = endpoint\n      this.time = time\n    } else {\n      this.method = method.method\n      this.endpoint = method.endpoint\n      this.time = method.time || 0\n    }\n  }\n\n  /**\n   * \n   */\n  isMatch (query: HttpRequest) {\n    return EasyMatch([this.method], [query.method]).ismatch && EasyMatch([this.endpoint], [query.endpoint]).ismatch\n  }\n}\n","import type { MethodMap, MethodStringMap } from './space'\nimport type { HttpRequestMethod } from './httpRequest'\nimport fetch from 'node-fetch'\n\nimport { HttpRequest } from './httpRequest'\nimport { REPORT_DIR } from './config'\nimport { readFile, utimes, writeFile } from 'fs/promises'\nimport { openSync, closeSync } from 'fs'\n\nimport { Space } from './space'\n\n/**\n * \n */\nasync function touch (filename: string) {\n  try {\n      const now = new Date()\n      await utimes(filename, now, now);\n  } catch (e) {\n      const fd = openSync(filename, 'a');\n      await closeSync(fd);\n  }\n}\n\n/**\n * \n */\nfunction getHttpRequest (line: string) {\n  const parts = line.split(' ')\n  return new HttpRequest(parts[0] as HttpRequestMethod, parts[1])\n}\n\n/**\n * \n */\nfunction parseLines (line: string, splitChar: string) {\n  const result: HttpRequest[] = []\n\n  line.toString()\n    .split(splitChar)\n    .forEach(line => {\n      const output = line.trim()\n\n      if (output === '') {\n        return\n      } else {\n        result.push(getHttpRequest(line))\n      }\n    })\n  \n  return result\n}\n\n/**\n * \n */\nexport class Report {\n  name: string\n  readonly path: string\n  endpoints: MethodMap | MethodStringMap\n  private _populate: () => Promise<HttpRequest[]>\n\n  constructor (name: string, endpoints: MethodMap | MethodStringMap, source: string) {\n    this.name = name\n    this.endpoints = endpoints\n    this.path = `${REPORT_DIR}/${this.name}.json`\n\n    if (source === undefined) {\n      // Coming from pipe\n      this._populate = async () => {\n        return new Promise(resolve => {\n          const result: HttpRequest[] = []\n          const stdin = process.openStdin()\n\n          stdin.on('data', (chunk) => {      \n            const lines = parseLines(chunk, '\\n')\n            lines.forEach(line => result.push(line))\n          })\n\n          stdin.on('end', () => resolve(result))\n        })\n      }\n    } else  if (source.substring(0, 4) === 'http') {\n      // Coming from http\n      this._populate = async () => {\n        const result: HttpRequest[] = []\n        const response = await fetch(source)\n\n        try {\n          for await (const chunk of response.body) {\n            const lines = JSON.parse(chunk.toString()) as string[];\n            lines.forEach(line => result.push(parseLines(line, '')[0]))\n          } \n\n          return result\n        } catch (err) {\n          console.error(err.stack);\n        }\n      }\n    } else {\n      // coming from cli\n      this._populate = async () => {\n        return parseLines(source, ',')\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  async populate () {\n    await touch(this.path)\n    const data = (await readFile(this.path)).toString()\n    const space: Space = data === ''\n      ? new Space(this.endpoints)\n      : Space.fromJson(data)\n\n    space.addRequests(await this._populate())\n\n    await writeFile(this.path, JSON.stringify(space))\n\n    return space\n  }\n}","require('dotenv').config()\nimport { resolve } from 'path'\n\nexport const HOSTNAME = (process.env.HOSTNAME as string) || '0.0.0.0'\n\nexport const PORT = parseInt(process.env.PORT as string) || 3000\n\nexport const REPORT_DIR = (process.env.REPORT_DIR as string) || resolve(__dirname, '../reports')\n","import { QuadrantPoint, QuadrantType } from \"./quadrantPoint\"\n\nexport class Vector {\n  type: QuadrantType\n  content: number\n  context: number\n\n  constructor (point: QuadrantPoint) {\n    this.type = point.type\n    this.content = point.content\n    this.context = point.context\n  }\n}\n","import { Vector } from \"./vector\"\n\nexport enum QuadrantType {\n  socialCreate,\n  personalCreate,\n  personalDestroy,\n  socialDestroy\n}\n\ninterface QuadrantPointJson {\n  type: QuadrantType\n  content: number\n  context: number\n  time?: number\n}\n\n/**\n * \n */\nexport class QuadrantPoint {\n  type: QuadrantType\n  time: number\n  content: number\n  context: number\n\n  constructor (type: QuadrantType | QuadrantPointJson, content: number = 0, context: number = 0, time: number = 0) {\n    if(typeof type === 'number') {\n      this.type = type\n      this.content = content\n      this.context = context\n      this.time = time\n    } else {\n      const json = type as QuadrantPointJson\n      this.type = json.type\n      this.content = json.content\n      this.context = json.context\n      this.time = json.time\n    }\n  }\n\n  /**\n   * \n   */\n  addContext (value: number = 1) {\n    this.context += value\n  }\n\n  /**\n   * \n   */\n  addContent (value: number = 1) {\n    this.content += value\n  }\n\n  /**\n   * \n   */\n  toVector () {\n    return new Vector(this)\n  }\n}","const isNegativeZero = require( 'is-negative-zero')\nimport { HttpRequest } from \"./httpRequest\"\nimport { QuadrantPoint, QuadrantType } from \"./quadrantPoint\"\nimport { Vector } from \"./vector\"\n\nexport interface MethodStringMap {\n  social: string[]\n  personal: string[]\n  create: string[]\n  destroy: string[]\n}\n\nexport interface MethodMap {\n  social: HttpRequest[]\n  personal: HttpRequest[]\n  create: HttpRequest[]\n  destroy: HttpRequest[]\n}\n\ninterface QuadrantPoints {\n  [QuadrantType.socialCreate]: QuadrantPoint[],\n  [QuadrantType.personalCreate]: QuadrantPoint[],\n  [QuadrantType.personalDestroy]: QuadrantPoint[],\n  [QuadrantType.socialDestroy]: QuadrantPoint[]\n}\n\nconst PI_RADIAN = 180 / Math.PI\n\n/**\n * \n */\nfunction requestSearch (list: HttpRequest[], request: HttpRequest) {\n  return list.find(endpoint => request.isMatch(endpoint)) !== undefined\n}\n\n/**\n * \n */\n function getDegrees (a: Vector, b: Vector, offset = 360) {\n  const slope = (b.context - a.context) / (b.content - a.content)\n  const degree = Math.atan(slope) * PI_RADIAN\n  let angle = degree % 360;\n  \n  if (angle < 0) {\n    angle += offset\n  } else if (isNegativeZero(angle)) {\n    angle = 180\n  }\n  \n  return angle\n}\n\n/**\n * \n */\nexport class Space {\n  readonly endpoints: MethodMap\n  readonly points: QuadrantPoints = {\n    [QuadrantType.socialCreate]: [],\n    [QuadrantType.personalCreate]: [],\n    [QuadrantType.personalDestroy]: [],\n    [QuadrantType.socialDestroy]: []\n  }\n\n  /**\n   * \n   */\n  static fromJson (line: string) {\n    const json = JSON.parse(line)\n    const endpoints: MethodStringMap = json.endpoints\n    const points: QuadrantPoints = {\n      [QuadrantType.socialCreate]: json.points[QuadrantType.socialCreate].map(point => new QuadrantPoint(point)),\n      [QuadrantType.personalCreate]: json.points[QuadrantType.personalCreate].map(point => new QuadrantPoint(point)),\n      [QuadrantType.personalDestroy]: json.points[QuadrantType.personalDestroy].map(point => new QuadrantPoint(point)),\n      [QuadrantType.socialDestroy]: json.points[QuadrantType.socialDestroy].map(point => new QuadrantPoint(point))\n    }\n\n    return new Space(endpoints, points)\n  }\n\n  constructor (endpoints: MethodMap | MethodStringMap, points?: QuadrantPoints) {\n    if (points !== undefined) {\n      this.points = points\n    }\n\n    const social: HttpRequest[] = typeof endpoints.social[0] !== 'string'\n      ? endpoints.social as HttpRequest[]\n      : endpoints.social.map(endpoint => {\n        const parts = endpoint.split(' ')\n        return new HttpRequest(parts[0], parts[1])\n      }) as HttpRequest[]\n\n    const personal: HttpRequest[] = typeof endpoints.personal[0] !== 'string'\n    ? endpoints.personal as HttpRequest[]\n    : endpoints.personal.map(endpoint => {\n      const parts = endpoint.split(' ')\n      return new HttpRequest(parts[0], parts[1])\n    }) as HttpRequest[]\n\n    const create: HttpRequest[] = typeof endpoints.create[0] !== 'string'\n    ? endpoints.create as HttpRequest[]\n    : endpoints.create.map(endpoint => {\n      const parts = endpoint.split(' ')\n      return new HttpRequest(parts[0], parts[1])\n    }) as HttpRequest[]\n\n    const destroy: HttpRequest[] = typeof endpoints.destroy[0] !== 'string'\n    ? endpoints.destroy as HttpRequest[]\n    : endpoints.destroy.map(endpoint => {\n      const parts = endpoint.split(' ')\n      return new HttpRequest(parts[0], parts[1])\n    }) as HttpRequest[]\n\n    this.endpoints = {\n      social,\n      personal,\n      create,\n      destroy\n    }\n  }\n\n  /**\n   * Convert an HTTP request into a quandrant point\n   */\n  addRequests (requests: HttpRequest[]) {\n    for (const request of requests) {\n      if (requestSearch(this.endpoints.social, request)) {\n        this.points[QuadrantType.socialCreate].push(new QuadrantPoint(QuadrantType.socialCreate, 0, 1, request.time))\n      }\n      \n      if (requestSearch(this.endpoints.personal, request)) {\n        this.points[QuadrantType.personalCreate].push(new QuadrantPoint(QuadrantType.personalCreate, 0, -1, request.time))\n      }\n      \n      if (requestSearch(this.endpoints.create, request)) {\n        this.points[QuadrantType.personalDestroy].push(new QuadrantPoint(QuadrantType.personalDestroy, 1, 0, request.time))\n      }\n      \n      if (requestSearch(this.endpoints.destroy, request)) {\n        this.points[QuadrantType.socialDestroy].push(new QuadrantPoint(QuadrantType.socialDestroy, -1, 0, request.time))\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  getPoints () {\n    return[\n      ...this.points[QuadrantType.socialCreate],\n      ...this.points[QuadrantType.personalCreate],\n      ...this.points[QuadrantType.personalDestroy],\n      ...this.points[QuadrantType.socialDestroy]\n    ]\n  }\n\n  /**\n   * \n   */\n   private _reduce (points: QuadrantPoint[]) {\n    if (points.length === 0) {\n      return false\n    }\n\n    let content = 0\n    let context = 0\n\n    for (const point of points) {\n      context += point.context\n      content += point.content\n    }\n\n    const result = new QuadrantPoint(points[0].type, content, context).toVector()\n\n    return result\n  }\n\n  /**\n   * \n   */\n  getVectors (users: number) {\n    const vectors = [\n      this._reduce(this.points[QuadrantType.socialCreate]),\n      this._reduce(this.points[QuadrantType.personalCreate]),\n      this._reduce(this.points[QuadrantType.personalDestroy]),\n      this._reduce(this.points[QuadrantType.socialDestroy])\n    ].filter(vector => vector !== false) as Vector[]\n\n    const result = {\n      temperature: 0,\n      pressure: 0,\n      vectors,\n      angles: []\n    }\n\n    for (let i = 0, len = result.vectors.length; i < len; i++) {\n      const vector = result.vectors[i]\n      const nextVector = result.vectors[i + 1] === undefined\n        ? result.vectors[0]\n        : result.vectors[i + 1]\n\n      result.angles.push(getDegrees(vector, nextVector, 360 - (i * 90)))\n      result.temperature += vector.context\n      result.pressure +=  vector.content\n    }\n\n    result.temperature /= users\n    result.pressure /= users\n\n    return result\n  }\n\n  /**\n   * \n   */\n  toJson () {\n    return {\n      endpoints: {\n        social: this.endpoints.social.map(element => element.method + ' ' + element.endpoint),\n        personal: this.endpoints.personal.map(element => element.method + ' ' + element.endpoint),\n        create: this.endpoints.create.map(element => element.method + ' ' + element.endpoint),\n        destroy: this.endpoints.destroy.map(element => element.method + ' ' + element.endpoint)\n      },\n      points: this.points\n    }\n  }\n}","import { test } from 'uvu'\nimport * as assert from 'uvu/assert'\nimport { QuadrantPoint, QuadrantType } from '../src/quadrantPoint'\n\ntest('Quadrant Points: Construct', async () => {\n  const point = new QuadrantPoint(QuadrantType.socialCreate)\n\n  assert.equal(point.content, 0)\n  assert.equal(point.context, 0)\n  assert.equal(point.type, QuadrantType.socialCreate)\n})\n\ntest('Quadrant Points: Construct from JSON', async () => {\n  const point = new QuadrantPoint({\n    type: QuadrantType.socialCreate,\n    context: 10,\n    content: 20\n  })\n\n  assert.equal(point.content, 20)\n  assert.equal(point.context, 10)\n  assert.equal(point.type, QuadrantType.socialCreate)\n})\n\ntest('Quadrant Points: Modify', async () => {\n  const point = new QuadrantPoint(QuadrantType.socialCreate, 30, 100)\n\n  point.addContent(30)\n  point.addContext(100)\n\n  assert.equal(point.content, 60)\n  assert.equal(point.context, 200)\n  assert.equal(point.type, QuadrantType.socialCreate)\n})\n","import { test } from 'uvu'\nimport * as assert from 'uvu/assert'\nimport { HttpRequest, Space } from '../src'\n\nconst endpoints = {\n  social: [\n    new HttpRequest('POST', '/like/*'),\n    new HttpRequest('POST', '/favorite/*'),\n    new HttpRequest('POST', '/friendRequest/*'),\n    new HttpRequest('POST', '/post/*/comment'),\n    new HttpRequest('POST', '/search/*'),\n    new HttpRequest('POST', '/joinGroup/*'),\n    new HttpRequest('POST', '/report'),\n    new HttpRequest('POST', '/block/*'),\n    new HttpRequest('POST', '/unfriend/*')\n  ],\n  personal: [\n    new HttpRequest('POST', '/video'),\n    new HttpRequest('POST', '/post'),\n    new HttpRequest('POST', '/settings'),\n    new HttpRequest('POST', '/changePassword'),\n  ],\n  create: [\n    new HttpRequest('POST', '/video'),\n    new HttpRequest('POST', '/post'),\n    new HttpRequest('POST', '/post/*/comment'),\n    new HttpRequest('POST', '/like/*'),\n    new HttpRequest('POST', '/favorite/*'),\n    new HttpRequest('POST', '/friendRequest/*'),\n    new HttpRequest('POST', '/post/*/comment'),\n    new HttpRequest('POST', '/search/*'),\n    new HttpRequest('POST', '/joinGroup/*')\n  ],\n  destroy: [\n    new HttpRequest('DELETE', '/video/*'),\n    new HttpRequest('POST', '/changePassword'),\n    new HttpRequest('POST', '/settings'),\n    new HttpRequest('DELETE', '/post/*'),\n    new HttpRequest('DELETE', '/comment/*'),\n    new HttpRequest('PUT', '/video/*'),\n    new HttpRequest('PUT', '/post/*'),\n    new HttpRequest('PUT', '/comment/*'),\n    new HttpRequest('POST', '/report'),\n    new HttpRequest('POST', '/block/*'),\n    new HttpRequest('POST', '/unfriend/*')\n  ]\n}\n\ntest('Space: Get Points', async () => {\n  const space = new Space(endpoints)\n\n  space.addRequests([\n    new HttpRequest('POST', '/like/1', 1),\n    new HttpRequest('POST', '/video', 2),\n    new HttpRequest('POST', '/friendRequest/3', 3),\n    new HttpRequest('POST', '/block/4', 4)\n  ])\n\n  const points = space.getPoints()\n\n  assert.equal(points.length, 8)\n\n  assert.equal(points[0].type, 0)\n  assert.equal(points[0].content, 0)\n  assert.equal(points[0].context, 1)\n  assert.equal(points[0].time, 1)\n\n  assert.equal(points[1].type, 0)\n  assert.equal(points[1].content, 0)\n  assert.equal(points[1].context, 1)\n  assert.equal(points[1].time, 3)\n\n  assert.equal(points[2].type, 0)\n  assert.equal(points[2].content, 0)\n  assert.equal(points[2].context, 1)\n  assert.equal(points[2].time, 4)\n\n  assert.equal(points[3].type, 1)\n  assert.equal(points[3].content, 0)\n  assert.equal(points[3].context, -1)\n  assert.equal(points[3].time, 2)\n\n  assert.equal(points[4].type, 2)\n  assert.equal(points[4].content, 1)\n  assert.equal(points[4].context, 0)\n  assert.equal(points[4].time, 1)\n\n  assert.equal(points[5].type, 2)\n  assert.equal(points[5].content, 1)\n  assert.equal(points[5].context, 0)\n  assert.equal(points[5].time, 2)\n\n  assert.equal(points[6].type, 2)\n  assert.equal(points[6].content, 1)\n  assert.equal(points[6].context, 0)\n  assert.equal(points[6].time, 3)\n\n  assert.equal(points[7].type, 3)\n  assert.equal(points[7].content, -1)\n  assert.equal(points[7].context, 0)\n  assert.equal(points[7].time, 4)\n})\n\ntest('Space: Get Vectors 1', async () => {\n  const space = new Space(endpoints)\n\n  space.addRequests([\n    new HttpRequest('POST', '/like/1', 1),\n    new HttpRequest('POST', '/video', 2),\n    new HttpRequest('POST', '/friendRequest/3', 3),\n    new HttpRequest('POST', '/block/4', 4)\n  ])\n\n  const shape = space.getVectors(1)\n\n  assert.equal(shape.temperature, 2)\n  assert.equal(shape.pressure, 2)\n\n  assert.equal(shape.vectors.length, 4)\n  assert.equal(shape.angles.length, 4)\n\n  assert.equal(shape.vectors[0].type, 0)\n  assert.equal(shape.vectors[0].content, 0)\n  assert.equal(shape.vectors[0].context, 3)\n  assert.equal(shape.angles[0], 270)\n\n  assert.equal(shape.vectors[1].type, 1)\n  assert.equal(shape.vectors[1].content, 0)\n  assert.equal(shape.vectors[1].context, -1)\n  assert.equal(shape.angles[1], 18.43494882292201)\n\n  assert.equal(shape.vectors[2].type, 2)\n  assert.equal(shape.vectors[2].content, 3)\n  assert.equal(shape.vectors[2].context, 0)\n  assert.equal(shape.angles[2], 180)\n\n  assert.equal(shape.vectors[3].type, 3)\n  assert.equal(shape.vectors[3].content, -1)\n  assert.equal(shape.vectors[3].context, 0)\n  assert.equal(shape.angles[3], 71.56505117707799)\n})\n\ntest('Space: Get Vectors 1', async () => {\n  const space = new Space(endpoints)\n\n  space.addRequests([\n    new HttpRequest('POST', '/like/1', 1),\n    new HttpRequest('POST', '/video', 2),\n    new HttpRequest('POST', '/friendRequest/3', 3)\n  ])\n\n  const shape = space.getVectors(1)\n\n  assert.equal(shape.temperature, 1)\n  assert.equal(shape.pressure, 3)\n\n  assert.equal(shape.vectors.length, 3)\n  assert.equal(shape.angles.length, 3)\n\n  assert.equal(shape.vectors[0].type, 0)\n  assert.equal(shape.vectors[0].content, 0)\n  assert.equal(shape.vectors[0].context, 2)\n  assert.equal(shape.angles[0], 270)\n\n  assert.equal(shape.vectors[1].type, 1)\n  assert.equal(shape.vectors[1].content, 0)\n  assert.equal(shape.vectors[1].context, -1)\n  assert.equal(shape.angles[1], 18.43494882292201)\n\n  assert.equal(shape.vectors[2].type, 2)\n  assert.equal(shape.vectors[2].content, 3)\n  assert.equal(shape.vectors[2].context, 0)\n  assert.equal(shape.angles[2], 146.30993247402023)\n})\n\ntest('Space: Get Points from JSON endpoints', async () => {\n  const space = new Space({\n    social: [\n      'POST /like/*',\n      'POST /favorite/*',\n      'POST /friendRequest/*',\n      'POST /post/*/comment',\n      'POST /search/*',\n      'POST /joinGroup/*',\n      'POST /report',\n      'POST /block/*',\n      'POST /unfriend/*'\n    ],\n    personal: [\n      'POST /video',\n      'POST /post',\n      'POST /settings',\n      'POST /changePassword',\n    ],\n    create: [\n      'POST /video',\n      'POST /post',\n      'POST /post/*/comment',\n      'POST /like/*',\n      'POST /favorite/*',\n      'POST /friendRequest/*',\n      'POST /post/*/comment',\n      'POST /search/*',\n      'POST /joinGroup/*'\n    ],\n    destroy: [\n      'DELETE /video/*',\n      'POST /changePassword',\n      'POST /settings',\n      'DELETE /post/*',\n      'DELETE /comment/*',\n      'PUT /video/*',\n      'PUT /post/*',\n      'PUT /comment/*',\n      'POST /report',\n      'POST /block/*',\n      'POST /unfriend/*'\n    ]\n  })\n\n  space.addRequests([\n    new HttpRequest('POST', '/like/1', 1),\n    new HttpRequest('POST', '/video', 2),\n    new HttpRequest('POST', '/friendRequest/3', 3),\n    new HttpRequest('POST', '/block/4', 4)\n  ])\n\n  const points = space.getPoints()\n\n  assert.equal(points.length, 8)\n\n  assert.equal(points[0].type, 0)\n  assert.equal(points[0].content, 0)\n  assert.equal(points[0].context, 1)\n  assert.equal(points[0].time, 1)\n\n  assert.equal(points[1].type, 0)\n  assert.equal(points[1].content, 0)\n  assert.equal(points[1].context, 1)\n  assert.equal(points[1].time, 3)\n\n  assert.equal(points[2].type, 0)\n  assert.equal(points[2].content, 0)\n  assert.equal(points[2].context, 1)\n  assert.equal(points[2].time, 4)\n\n  assert.equal(points[3].type, 1)\n  assert.equal(points[3].content, 0)\n  assert.equal(points[3].context, -1)\n  assert.equal(points[3].time, 2)\n\n  assert.equal(points[4].type, 2)\n  assert.equal(points[4].content, 1)\n  assert.equal(points[4].context, 0)\n  assert.equal(points[4].time, 1)\n\n  assert.equal(points[5].type, 2)\n  assert.equal(points[5].content, 1)\n  assert.equal(points[5].context, 0)\n  assert.equal(points[5].time, 2)\n\n  assert.equal(points[6].type, 2)\n  assert.equal(points[6].content, 1)\n  assert.equal(points[6].context, 0)\n  assert.equal(points[6].time, 3)\n\n  assert.equal(points[7].type, 3)\n  assert.equal(points[7].content, -1)\n  assert.equal(points[7].context, 0)\n  assert.equal(points[7].time, 4)\n})","import { test } from 'uvu'\nimport * as assert from 'uvu/assert'\nimport { QuadrantPoint, QuadrantType } from '../src/quadrantPoint'\n\ntest('Vector: To 1/1 Vector', async () => {\n  const socialCreate = new QuadrantPoint(QuadrantType.socialCreate, 1, 1)\n  const personalCreate = new QuadrantPoint(QuadrantType.personalCreate, 1, 1)\n  const personalDestroy = new QuadrantPoint(QuadrantType.personalDestroy, 1, 1)\n  const socialDestroy = new QuadrantPoint(QuadrantType.socialDestroy, 1, 1)\n\n  const socialCreateVector = socialCreate.toVector()\n  const personalCreateVector = personalCreate.toVector()\n  const personalDestroyVector = personalDestroy.toVector()\n  const socialDestroyVector = socialDestroy.toVector()\n\n  assert.equal(socialCreateVector.content, 1)\n  assert.equal(socialCreateVector.context, 1)\n  assert.equal(socialCreateVector.type, QuadrantType.socialCreate)\n\n  assert.equal(personalCreateVector.content, 1)\n  assert.equal(personalCreateVector.context, 1)\n  assert.equal(personalCreateVector.type, QuadrantType.personalCreate)\n\n  assert.equal(personalDestroyVector.content, 1)\n  assert.equal(personalDestroyVector.context, 1)\n  assert.equal(personalDestroyVector.type, QuadrantType.personalDestroy)\n\n  assert.equal(socialDestroyVector.content, 1)\n  assert.equal(socialDestroyVector.context, 1)\n  assert.equal(socialDestroyVector.type, QuadrantType.socialDestroy)\n})\n\ntest('Vector: To 1/0 Vector', async () => {\n  const socialCreate = new QuadrantPoint(QuadrantType.socialCreate, 1, 0)\n  const personalCreate = new QuadrantPoint(QuadrantType.personalCreate, 1, 0)\n  const personalDestroy = new QuadrantPoint(QuadrantType.personalDestroy, 1, 0)\n  const socialDestroy = new QuadrantPoint(QuadrantType.socialDestroy, 1, 0)\n\n  const socialCreateVector = socialCreate.toVector()\n  const personalCreateVector = personalCreate.toVector()\n  const personalDestroyVector = personalDestroy.toVector()\n  const socialDestroyVector = socialDestroy.toVector()\n\n  assert.equal(socialCreateVector.content, 1)\n  assert.equal(socialCreateVector.context, 0)\n  assert.equal(socialCreateVector.type, QuadrantType.socialCreate)\n\n  assert.equal(personalCreateVector.content, 1)\n  assert.equal(personalCreateVector.context, 0)\n  assert.equal(personalCreateVector.type, QuadrantType.personalCreate)\n\n  assert.equal(personalDestroyVector.content, 1)\n  assert.equal(personalDestroyVector.context, 0)\n  assert.equal(personalDestroyVector.type, QuadrantType.personalDestroy)\n\n  assert.equal(socialDestroyVector.content, 1)\n  assert.equal(socialDestroyVector.context, 0)\n  assert.equal(socialDestroyVector.type, QuadrantType.socialDestroy)\n})\n\ntest('Vector: To 0/1 Vector', async () => {\n  const socialCreate = new QuadrantPoint(QuadrantType.socialCreate, 0, 1)\n  const personalCreate = new QuadrantPoint(QuadrantType.personalCreate, 0, 1)\n  const personalDestroy = new QuadrantPoint(QuadrantType.personalDestroy, 0, 1)\n  const socialDestroy = new QuadrantPoint(QuadrantType.socialDestroy, 0, 1)\n\n  const socialCreateVector = socialCreate.toVector()\n  const personalCreateVector = personalCreate.toVector()\n  const personalDestroyVector = personalDestroy.toVector()\n  const socialDestroyVector = socialDestroy.toVector()\n\n  assert.equal(socialCreateVector.content, 0)\n  assert.equal(socialCreateVector.context, 1)\n  assert.equal(socialCreateVector.type, QuadrantType.socialCreate)\n\n  assert.equal(personalCreateVector.content, 0)\n  assert.equal(personalCreateVector.context, 1)\n  assert.equal(personalCreateVector.type, QuadrantType.personalCreate)\n\n  assert.equal(personalDestroyVector.content, 0)\n  assert.equal(personalDestroyVector.context, 1)\n  assert.equal(personalDestroyVector.type, QuadrantType.personalDestroy)\n\n  assert.equal(socialDestroyVector.content, 0)\n  assert.equal(socialDestroyVector.context, 1)\n  assert.equal(socialDestroyVector.type, QuadrantType.socialDestroy)\n})\n\ntest('Vector: To 100/1 Vector', async () => {\n  const socialCreate = new QuadrantPoint(QuadrantType.socialCreate, 100, 1)\n  const personalCreate = new QuadrantPoint(QuadrantType.personalCreate, 100, 1)\n  const personalDestroy = new QuadrantPoint(QuadrantType.personalDestroy, 100, 1)\n  const socialDestroy = new QuadrantPoint(QuadrantType.socialDestroy, 100, 1)\n\n  const socialCreateVector = socialCreate.toVector()\n  const personalCreateVector = personalCreate.toVector()\n  const personalDestroyVector = personalDestroy.toVector()\n  const socialDestroyVector = socialDestroy.toVector()\n\n  assert.equal(socialCreateVector.content, 100)\n  assert.equal(socialCreateVector.context, 1)\n  assert.equal(socialCreateVector.type, QuadrantType.socialCreate)\n\n  assert.equal(personalCreateVector.content, 100)\n  assert.equal(personalCreateVector.context, 1)\n  assert.equal(personalCreateVector.type, QuadrantType.personalCreate)\n\n  assert.equal(personalDestroyVector.content, 100)\n  assert.equal(personalDestroyVector.context, 1)\n  assert.equal(personalDestroyVector.type, QuadrantType.personalDestroy)\n\n  assert.equal(socialDestroyVector.content, 100)\n  assert.equal(socialDestroyVector.context, 1)\n  assert.equal(socialDestroyVector.type, QuadrantType.socialDestroy)\n})\n\ntest('Vector: To 1/100 Vector', async () => {\n  const socialCreate = new QuadrantPoint(QuadrantType.socialCreate, 1, 100)\n  const personalCreate = new QuadrantPoint(QuadrantType.personalCreate, 1, 100)\n  const personalDestroy = new QuadrantPoint(QuadrantType.personalDestroy, 1, 100)\n  const socialDestroy = new QuadrantPoint(QuadrantType.socialDestroy, 1, 100)\n\n  const socialCreateVector = socialCreate.toVector()\n  const personalCreateVector = personalCreate.toVector()\n  const personalDestroyVector = personalDestroy.toVector()\n  const socialDestroyVector = socialDestroy.toVector()\n\n  assert.equal(socialCreateVector.content, 1)\n  assert.equal(socialCreateVector.context, 100)\n  assert.equal(socialCreateVector.type, QuadrantType.socialCreate)\n\n  assert.equal(personalCreateVector.content, 1)\n  assert.equal(personalCreateVector.context, 100)\n  assert.equal(personalCreateVector.type, QuadrantType.personalCreate)\n\n  assert.equal(personalDestroyVector.content, 1)\n  assert.equal(personalDestroyVector.context, 100)\n  assert.equal(personalDestroyVector.type, QuadrantType.personalDestroy)\n\n  assert.equal(socialDestroyVector.content, 1)\n  assert.equal(socialDestroyVector.context, 100)\n  assert.equal(socialDestroyVector.type, QuadrantType.socialDestroy)\n})\n","import { rm } from 'fs/promises'\nimport { test } from 'uvu'\nimport * as assert from 'uvu/assert'\nimport { Report } from '../src/report'\n\nconst endpoints = {\n  social: [\n    'POST /like/*',\n    'POST /favorite/*',\n    'POST /friendRequest/*',\n    'POST /post/*/comment',\n    'POST /search/*',\n    'POST /joinGroup/*',\n    'POST /report',\n    'POST /block/*',\n    'POST /unfriend/*'\n  ],\n  personal: [\n    'POST /video',\n    'POST /post',\n    'POST /settings',\n    'POST /changePassword',\n  ],\n  create: [\n    'POST /video',\n    'POST /post',\n    'POST /post/*/comment',\n    'POST /like/*',\n    'POST /favorite/*',\n    'POST /friendRequest/*',\n    'POST /post/*/comment',\n    'POST /search/*',\n    'POST /joinGroup/*'\n  ],\n  destroy: [\n    'DELETE /video/*',\n    'POST /changePassword',\n    'POST /settings',\n    'DELETE /post/*',\n    'DELETE /comment/*',\n    'PUT /video/*',\n    'PUT /post/*',\n    'PUT /comment/*',\n    'POST /report',\n    'POST /block/*',\n    'POST /unfriend/*'\n  ]\n}\n\ntest('Report: full', async () => {\n  const report = new Report('_test', endpoints, 'GET /like/4,PUT /post/2,POST /search/34')\n  const space1 = await report.populate()\n\n  assert.equal(space1.toJson().endpoints, endpoints)\n  assert.equal(space1.points['0'].length, 1)\n  assert.equal(space1.points['1'].length, 0)\n  assert.equal(space1.points['2'].length, 1)\n  assert.equal(space1.points['3'].length, 1)\n\n  assert.equal(space1.points['0'][0].type, 0)\n  assert.equal(space1.points['0'][0].content, 0)\n  assert.equal(space1.points['0'][0].context, 1)\n  assert.equal(space1.points['0'][0].time, 0)\n\n  assert.equal(space1.points['2'][0].type, 2)\n  assert.equal(space1.points['2'][0].content, 1)\n  assert.equal(space1.points['2'][0].context, 0)\n  assert.equal(space1.points['2'][0].time, 0)\n\n  assert.equal(space1.points['3'][0].type, 3)\n  assert.equal(space1.points['3'][0].content, -1)\n  assert.equal(space1.points['3'][0].context, 0)\n  assert.equal(space1.points['3'][0].time, 0)\n\n  const space2 = await report.populate()\n\n  assert.equal(space2.points['0'].length, 2)\n  assert.equal(space2.points['1'].length, 0)\n  assert.equal(space2.points['2'].length, 2)\n  assert.equal(space2.points['3'].length, 2)\n\n  assert.equal(space2.points['0'][0].type, 0)\n  assert.equal(space2.points['0'][0].content, 0)\n  assert.equal(space2.points['0'][0].context, 1)\n  assert.equal(space2.points['0'][0].time, 0)\n\n  assert.equal(space2.points['0'][1].type, 0)\n  assert.equal(space2.points['0'][1].content, 0)\n  assert.equal(space2.points['0'][1].context, 1)\n  assert.equal(space2.points['0'][1].time, 0)\n\n  assert.equal(space2.points['2'][0].type, 2)\n  assert.equal(space2.points['2'][0].content, 1)\n  assert.equal(space2.points['2'][0].context, 0)\n  assert.equal(space2.points['2'][0].time, 0)\n\n  assert.equal(space2.points['2'][1].type, 2)\n  assert.equal(space2.points['2'][1].content, 1)\n  assert.equal(space2.points['2'][1].context, 0)\n  assert.equal(space2.points['2'][1].time, 0)\n\n  assert.equal(space2.points['3'][0].type, 3)\n  assert.equal(space2.points['3'][0].content, -1)\n  assert.equal(space2.points['3'][0].context, 0)\n  assert.equal(space2.points['3'][0].time, 0)\n\n  assert.equal(space2.points['3'][1].type, 3)\n  assert.equal(space2.points['3'][1].content, -1)\n  assert.equal(space2.points['3'][1].context, 0)\n  assert.equal(space2.points['3'][1].time, 0)\n\n  assert.equal(space1.toJson().endpoints, endpoints)\n  console.log(report.path)\n  await rm(report.path)\n})","import type { HttpRequestMethod } from '../src/httpRequest'\nimport { test } from 'uvu'\nimport * as assert from 'uvu/assert'\nimport { HttpRequest } from '../src'\nimport { prepareHttp } from '../src/http'\nimport { Source } from '../src/source'\n\nconst port = 30001\nconst host = 'localhost'\n\ntest('Source: full', async () => {\n  const { server, startServer } = await prepareHttp(port, host, true)\n\n  server.get('/test.json', (request, reply) => {\n    reply.send(JSON.stringify([\n      \"POST /like/13\",\n      \"POST /video\",\n      \"POST /search/bob\",\n      \"DELETE /post/2\",\n      \"POST /report\"\n    ]))\n  })\n\n  await startServer()\n\n  const source = new Source<HttpRequest>(`http://${host}:${port}/test.json`, data => new HttpRequest(data[0] as HttpRequestMethod, data[1]))\n  const requests = await source.get()\n  console.log(requests)\n  server.close()\n})","import Fastify from 'fastify'\nimport { PORT, HOSTNAME } from './config'\n\nconst server = Fastify()\n\n/**\n * \n */\nexport function prepareHttp (port: number = PORT, host: string = HOSTNAME, silent: boolean = false) {\n  const startServer = async () => {\n    try {\n      await server.listen({\n        port,\n        host\n      })\n    } catch (err) {\n      server.log.error(err)\n      process.exit(1)\n    }\n  }\n\n  if (silent === false) {\n    console.info(`HTTP listening on port http://${host}:${port}...`)\n  }\n\n  return { server, startServer }\n}\n","import fetch from 'node-fetch'\nimport { readFile } from 'fs/promises'\nimport { resolve } from 'path'\n\n/**\n * \n */\nexport class Source<T> {\n  readonly source: string\n  readonly parseLine: (line: string[]) => T\n\n  constructor (source: string, parseLine: (line: string[]) => T) {\n    this.source = source\n    this.parseLine = parseLine\n  }\n\n  /**\n   * \n   */\n  async get () {\n    if (this.source.substring(0, 4) === 'http') {\n      // Coming from http as a JSON of an array of \"METHOD ENDPOINT\" strings\n      const result: T[] = []\n      const response = await fetch(this.source, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n\n      try {\n        for await (const chunk of response.body) {\n          const lines = JSON.parse(chunk.toString()) as string[];\n          lines.forEach(line => result.push(this.parseLine(line.split(' '))[0]))\n        } \n\n        return result\n      } catch (err) {\n        console.error(err.stack);\n      }\n    } else {\n      // coming from file as new-line list of \"METHOD ENDPOINT\" strings\n      const path = resolve(process.cwd(), `${this.source}.json`)\n      const data = (await readFile(path)).toString()\n      const lines: string[] = data.split('\\n')\n      const result: T[] = []\n\n      for (const line of lines) {\n         result.push(this.parseLine(line.split(' '))[0])\n      }\n\n      return result\n    }\n  }\n}\n"],"mappings":"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","names":[]}