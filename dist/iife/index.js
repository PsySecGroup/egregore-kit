(()=>{var P=Object.create;var g=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var x=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var E=(r,t,s,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D(t))!Q.call(r,o)&&o!==s&&g(r,o,{get:()=>t[o],enumerable:!(e=C(t,o))||e.enumerable});return r};var A=(r,t,s)=>(s=r!=null?P(v(r)):{},E(t||!r||!r.__esModule?g(s,"default",{value:r,enumerable:!0}):s,r));var q=x((k,m)=>{"use strict";var T=/[|\\{}()[\]^$+*?.]/g,V=function(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(T,"\\$&")},l=new Map;function $(r){let t=r;if(l.has(t))return l.get(t);var s=/^\/((?:\\\/|[^\/])+)\/$/;if(s.test(r)){let e=s.exec(r);if(e){let o=new RegExp(e[1],"i");return l.set(t,o),o}else return l.set(t,null),null}else if(r.includes("*")){r=V(r).replace(/\\\*/g,".*");let e=new RegExp(`^${r}$`,"i");return l.set(t,e),e}else{let e=new RegExp(`${r}`,"i");return l.set(t,e),e}}function R(r,t,s){typeof s>"u"&&(s=!1);let e={matches:[],others:[],stat:[],ismatch:!1};if(Array.isArray(r)||(r=[r]),!(Array.isArray(r)&&Array.isArray(t)))throw new TypeError(`Expected two arrays, got ${typeof r} ${typeof t}`);if(t.length===0)return e.yes=r,e;let o=new Map;for(let c of t){let w=$(c);o.set(c,{pattern:c,regex:w,matches:[]})}let n=!1;for(let c of r){n=!1;for(var[a,i]of o)if(i.regex!=null&&i.regex.test(c)){n=!0,s&&i.matches.push(c);break}n?e.matches.push(c):e.others.push(c)}let b=Array.from(o.values());return s&&(e.stat=b.filter(c=>c.matches.length>0)),e.ismatch=e.matches.length>0,e}m.exports=R;m.parent||console.log(R(["it@abc.com","itit@abc.com","xyz@abc.com","aaa\fff/bar.pdf","mooo",`
asdee`],["it@*","*it@*","*.pdf","*@*abc*","moo","/\\sasd/"]))});var M=x((z,H)=>{"use strict";H.exports=function(t){return t===0&&1/t===-1/0}});var d=A(q()),p=class{constructor(t,s,e=0){typeof t=="string"?(this.method=t,this.endpoint=s,this.time=e):(this.method=t.method,this.endpoint=t.endpoint,this.time=t.time||0)}isMatch(t){return(0,d.default)([this.method],[t.method]).ismatch&&(0,d.default)([this.endpoint],[t.endpoint]).ismatch}};var h=class{constructor(t){this.type=t.type,this.content=t.content,this.context=t.context}};var u=class{constructor(t,s=0,e=0,o=0){if(typeof t=="number")this.type=t,this.content=s,this.context=e,this.time=o;else{let n=t;this.type=n.type,this.content=n.content,this.context=n.context,this.time=n.time}}addContext(t=1){this.context+=t}addContent(t=1){this.content+=t}toVector(){return new h(this)}};var _=M(),J=180/Math.PI;function f(r,t){return r.find(s=>t.isMatch(s))!==void 0}function S(r,t,s=360){let e=(t.context-r.context)/(t.content-r.content),n=Math.atan(e)*J%360;return n<0?n+=s:_(n)&&(n=180),n}var y=class{constructor(t){this.points={[0]:[],[1]:[],[2]:[],[3]:[]};let s=typeof t.social[0]!="string"?t.social:t.social.map(a=>{let i=a.split(" ");return new p(i[0],i[1])}),e=typeof t.personal[0]!="string"?t.personal:t.personal.map(a=>{let i=a.split(" ");return new p(i[0],i[1])}),o=typeof t.create[0]!="string"?t.create:t.create.map(a=>{let i=a.split(" ");return new p(i[0],i[1])}),n=typeof t.destroy[0]!="string"?t.destroy:t.destroy.map(a=>{let i=a.split(" ");return new p(i[0],i[1])});this.endpoints={social:s,personal:e,create:o,destroy:n}}addRequests(t){for(let s of t)f(this.endpoints.social,s)&&this.points[0].push(new u(0,0,1,s.time)),f(this.endpoints.personal,s)&&this.points[1].push(new u(1,0,-1,s.time)),f(this.endpoints.create,s)&&this.points[2].push(new u(2,1,0,s.time)),f(this.endpoints.destroy,s)&&this.points[3].push(new u(3,-1,0,s.time))}getPoints(){return[...this.points[0],...this.points[1],...this.points[2],...this.points[3]]}_reduce(t){if(t.length===0)return!1;let s=0,e=0;for(let n of t)e+=n.context,s+=n.content;return new u(t[0].type,s,e).toVector()}getVectors(t){let s=[this._reduce(this.points[0]),this._reduce(this.points[1]),this._reduce(this.points[2]),this._reduce(this.points[3])].filter(o=>o!==!1),e={temperature:0,pressure:0,vectors:s,angles:[]};for(let o=0,n=e.vectors.length;o<n;o++){let a=e.vectors[o],i=e.vectors[o+1]===void 0?e.vectors[0]:e.vectors[o+1];e.angles.push(S(a,i,360-o*90)),e.temperature+=a.context,e.pressure+=a.content}return e.temperature/=t,e.pressure/=t,e}};})();
//# sourceMappingURL=index.js.map